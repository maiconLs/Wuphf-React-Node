[{"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\index.tsx":"1","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\App.tsx":"2","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\contexts\\AuthContext.tsx":"3","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignUp\\index.tsx":"4","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Home\\index.tsx":"5","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignIn\\index.tsx":"6","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Profile\\index.tsx":"7","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\EditUser\\index.tsx":"8","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\components\\index.tsx":"9","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\hooks\\useAuth.tsx":"10","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\services\\api.ts":"11"},{"size":234,"mtime":1642807779124,"results":"12","hashOfConfig":"13"},{"size":860,"mtime":1642810660827,"results":"14","hashOfConfig":"13"},{"size":2695,"mtime":1643065212546,"results":"15","hashOfConfig":"13"},{"size":1848,"mtime":1643069474791,"results":"16","hashOfConfig":"13"},{"size":245,"mtime":1642807833858,"results":"17","hashOfConfig":"13"},{"size":1335,"mtime":1643063678869,"results":"18","hashOfConfig":"13"},{"size":1720,"mtime":1643069233919,"results":"19","hashOfConfig":"13"},{"size":3771,"mtime":1643066791397,"results":"20","hashOfConfig":"13"},{"size":1279,"mtime":1642807862811,"results":"21","hashOfConfig":"13"},{"size":185,"mtime":1642807851081,"results":"22","hashOfConfig":"13"},{"size":151,"mtime":1643062040387,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"li9au9",{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\index.tsx",[],["48","49"],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\App.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\contexts\\AuthContext.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignUp\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Home\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignIn\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Profile\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\EditUser\\index.tsx",["50"],"import { FormEvent, useEffect, useState } from \"react\"\r\nimport api from '../../services/api';\r\n\r\nimport Header from '../../components/index';\r\nimport avatar from '../../assets/avatar.png'\r\n\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.min.css'; \r\n\r\nimport { FiUpload } from \"react-icons/fi\";\r\n\r\nimport './edituser.scss';\r\n\r\ninterface IUser {\r\n  name: string;\r\n  username: string;\r\n  email: string;\r\n  _id: string;\r\n  image?: string;\r\n  [key: string]: any\r\n}\r\n\r\nexport default function EditUser(){\r\n  const [user, setUser] = useState({} as IUser)\r\n  const [preview, setPreview] = useState()\r\n  const [loading, setLoading] = useState(false)\r\n  const [token] = useState(localStorage.getItem('token') || '')\r\n\r\n  useEffect(() => {\r\n    api.get('/users/checkuser',{\r\n      headers:{\r\n        Authorization: `Bearer ${JSON.parse(token)} `,\r\n      },\r\n    })\r\n    .then((response) => {\r\n      setUser(response.data)\r\n      console.log(response.data)\r\n    })\r\n   }, [token])\r\n\r\n   function handleChange(e: any){\r\n    setUser({...user, [e.target.name]: e.target.value})\r\n    \r\n   }\r\n\r\n   function onFileChange(e: any){\r\n     setPreview(e.target.files[0])\r\n     setUser({...user, [e.target.name]: e.target.files[0]})\r\n   }\r\n\r\n   const handleSubmit = async (e: any) => {\r\n     setLoading(true)\r\n    e.preventDefault()\r\n\r\n    const formData = new FormData()\r\n\r\n    const userFormData = Object.keys(user).forEach((key) =>  \r\n      formData.append(key, user[key]  ),\r\n    )\r\n\r\n    formData.append('user', JSON.stringify(userFormData) )\r\n    console.log(userFormData)\r\n\r\n    await api.patch(`/users/edit/${user._id}`, formData, {\r\n      headers:{\r\n        Authorization: `Bearer ${JSON.parse(token)}`,\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    })\r\n    .then((response) => {\r\n      toast.success(JSON.stringify(response.data.message) )\r\n      console.log(response.data)\r\n      setLoading(false)\r\n      return response.data\r\n    })\r\n\r\n    .catch((error) => {\r\n      toast.error(JSON.stringify(error.response.data.message) )\r\n      console.log(error)\r\n      setLoading(false)\r\n      return error.response.data\r\n    })\r\n   }\r\n\r\n  return(\r\n    <div >\r\n      <Header/>\r\n      <div className=\"formUser\">\r\n         <div>\r\n          <h1>Editar perfil</h1>\r\n          <div>\r\n\r\n              <span>\r\n                <FiUpload color=\"#FFF\" size={25} />\r\n              </span>\r\n\r\n              {(user.image || preview) ? (\r\n                <img\r\n                  src={\r\n                    preview ?\r\n                    URL.createObjectURL(preview) :\r\n                    `${process.env.REACT_APP_API}/images/users/${user.image}`\r\n                  }\r\n                  alt={user.name}\r\n                />\r\n              ): <img src={avatar} alt=\"Avatar\"/>}\r\n              </div>\r\n            \r\n            <form className=\"edit\" onSubmit={handleSubmit}>\r\n        \r\n              <input name=\"image\" type=\"file\"  onChange={onFileChange}/>\r\n              <input name=\"name\" value={user.name || ''} type=\"text\" placeholder=\"Digite seu nome\"  onChange={handleChange}/>\r\n              <input name=\"username\" value={user.username || ''} type=\"text\" placeholder=\"Digite um nome de utilizador \"  onChange={handleChange}/>\r\n              <input name=\"email\" value={user.email || ''} type=\"email\" placeholder=\"Digite seu email\"  onChange={handleChange}/>\r\n              <input name=\"password\" type=\"password\" placeholder=\"Digite uma senha\"  onChange={handleChange}/>\r\n              <input name=\"confirmpassword\" type=\"password\" placeholder=\"Confirme sua senha\"  onChange={handleChange}/>\r\n              <input type=\"submit\" value={loading ? 'Carregando...' : 'Enviar'}/>\r\n            </form>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\components\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\hooks\\useAuth.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\services\\api.ts",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":1,"column":10,"nodeType":"57","messageId":"58","endLine":1,"endColumn":19},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"@typescript-eslint/no-unused-vars","'FormEvent' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]