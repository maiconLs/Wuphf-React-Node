[{"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\index.tsx":"1","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\App.tsx":"2","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\contexts\\AuthContext.tsx":"3","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignUp\\index.tsx":"4","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Home\\index.tsx":"5","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignIn\\index.tsx":"6","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Profile\\index.tsx":"7","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\EditUser\\index.tsx":"8","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\components\\index.tsx":"9","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\hooks\\useAuth.tsx":"10","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\services\\api.ts":"11","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Publications\\index.tsx":"12"},{"size":234,"mtime":1642807779124,"results":"13","hashOfConfig":"14"},{"size":973,"mtime":1643759469997,"results":"15","hashOfConfig":"14"},{"size":2695,"mtime":1643065212546,"results":"16","hashOfConfig":"14"},{"size":1874,"mtime":1643840015966,"results":"17","hashOfConfig":"14"},{"size":245,"mtime":1642807833858,"results":"18","hashOfConfig":"14"},{"size":1331,"mtime":1643765134118,"results":"19","hashOfConfig":"14"},{"size":1720,"mtime":1643069233919,"results":"20","hashOfConfig":"14"},{"size":4263,"mtime":1643765381071,"results":"21","hashOfConfig":"14"},{"size":1352,"mtime":1643840084958,"results":"22","hashOfConfig":"14"},{"size":185,"mtime":1642807851081,"results":"23","hashOfConfig":"14"},{"size":151,"mtime":1643062040387,"results":"24","hashOfConfig":"14"},{"size":3037,"mtime":1643761852341,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"li9au9",{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\index.tsx",[],["54","55"],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\App.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\contexts\\AuthContext.tsx",[],["56","57"],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignUp\\index.tsx",[],["58","59"],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Home\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\SignIn\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Profile\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\EditUser\\index.tsx",["60"],"import { FormEvent, useEffect, useState } from \"react\";\r\nimport api from \"../../services/api\";\r\n\r\nimport Header from \"../../components/index\";\r\nimport avatar from \"../../assets/avatar.png\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nimport { FiUpload } from \"react-icons/fi\";\r\n\r\nimport \"./edituser.scss\";\r\n\r\ninterface IUser {\r\n  name: string;\r\n  username: string;\r\n  email: string;\r\n  _id: string;\r\n  image?: string;\r\n  [key: string]: any;\r\n}\r\n\r\nexport default function EditUser() {\r\n  const [user, setUser] = useState({} as IUser);\r\n  const [preview, setPreview] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [token] = useState(localStorage.getItem(\"token\") || \"\");\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/users/checkuser\", {\r\n        headers: {\r\n          Authorization: `Bearer ${JSON.parse(token)} `,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setUser(response.data);\r\n        console.log(response.data);\r\n      });\r\n  }, [token]);\r\n\r\n  function handleChange(e: any) {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  function onFileChange(e: any) {\r\n    setPreview(e.target.files[0]);\r\n    setUser({ ...user, [e.target.name]: e.target.files[0] });\r\n  }\r\n\r\n  const handleSubmit = async (e: any) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n    const userFormData = Object.keys(user).forEach((key) =>\r\n      formData.append(key, user[key])\r\n    );\r\n\r\n    formData.append(\"user\", JSON.stringify(userFormData));\r\n    console.log(userFormData);\r\n\r\n    await api\r\n      .patch(`/users/edit/${user._id}`, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${JSON.parse(token)}`,\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        toast.success(JSON.stringify(response.data.message));\r\n        console.log(response.data);\r\n        setLoading(false);\r\n        return response.data;\r\n      })\r\n\r\n      .catch((error) => {\r\n        toast.error(JSON.stringify(error.response.data.message));\r\n        console.log(error);\r\n        setLoading(false);\r\n        return error.response.data;\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"formUser\">\r\n        <div>\r\n          <h1>Editar perfil</h1>\r\n          <div>\r\n            <span>\r\n              <FiUpload color=\"#FFF\" size={25} />\r\n            </span>\r\n\r\n            {user.image || preview ? (\r\n              <img\r\n                className=\"editUser\"\r\n                src={\r\n                  preview\r\n                    ? URL.createObjectURL(preview)\r\n                    : `${process.env.REACT_APP_API}/images/users/${user.image}`\r\n                }\r\n                alt={user.name}\r\n              />\r\n            ) : (\r\n              <img src={avatar} alt=\"Avatar\" />\r\n            )}\r\n          </div>\r\n\r\n          <form className=\"edit\" onSubmit={handleSubmit}>\r\n            <input name=\"image\" type=\"file\" onChange={onFileChange} />\r\n            <input\r\n              name=\"name\"\r\n              value={user.name || \"\"}\r\n              type=\"text\"\r\n              placeholder=\"Digite seu nome\"\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              name=\"username\"\r\n              value={user.username || \"\"}\r\n              type=\"text\"\r\n              placeholder=\"Digite um nome de utilizador \"\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              name=\"email\"\r\n              value={user.email || \"\"}\r\n              type=\"email\"\r\n              placeholder=\"Digite seu email\"\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Digite uma senha\"\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              name=\"confirmpassword\"\r\n              type=\"password\"\r\n              placeholder=\"Confirme sua senha\"\r\n              onChange={handleChange}\r\n            />\r\n            <input type=\"submit\" value={loading ? \"Carregando...\" : \"Enviar\"} />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\thema\\Documents\\Project\\frontend\\src\\components\\index.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\hooks\\useAuth.tsx",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\services\\api.ts",[],"C:\\Users\\thema\\Documents\\Project\\frontend\\src\\pages\\Publications\\index.tsx",["61"],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"62","replacedBy":"66"},{"ruleId":"64","replacedBy":"67"},{"ruleId":"62","replacedBy":"68"},{"ruleId":"64","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":1,"column":10,"nodeType":"72","messageId":"73","endLine":1,"endColumn":19},{"ruleId":"70","severity":1,"message":"74","line":11,"column":10,"nodeType":"72","messageId":"73","endLine":11,"endColumn":18},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],["75"],["76"],["75"],["76"],"@typescript-eslint/no-unused-vars","'FormEvent' is defined but never used.","Identifier","unusedVar","'FiUpload' is defined but never used.","no-global-assign","no-unsafe-negation"]